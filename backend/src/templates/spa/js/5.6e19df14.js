(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{d0d1:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("q-list",{staticClass:"rounded-borders",attrs:{bordered:""}},[i("q-expansion-item",{attrs:{"expand-separator":"",icon:"fas fa-id-card-alt",label:e.$t("init_inf"),caption:e.title,dense:"","default-opened":""}},[i("div",{staticClass:"row",staticStyle:{"margin-left":"40px"}},[i("patient-component",{ref:"refPatient",attrs:{patient:e.patient}}),i("div",{staticClass:"col",staticStyle:{"margin-bottom":"20px"}},[i("q-btn",{attrs:{flat:"",label:e.$t("save")},on:{click:function(t){return e.save()}}}),i("q-btn",{attrs:{flat:"",label:e.$t("remove")},on:{click:function(t){return e.Delete()}}})],1)],1)]),i("q-expansion-item",{attrs:{"expand-separator":"",icon:"live_help",label:e.$t("init_questions"),dense:""}},[i("div",{staticStyle:{margin:"10px"}},[i("init-questions-table",{attrs:{patient:e.patient}})],1)]),i("q-expansion-item",{attrs:{"expand-separator":"",icon:"fas fa-diagnoses",label:e.$t("primary_diagnose"),dense:""}},[i("div",{staticStyle:{margin:"10px"}},[i("primary-table",{attrs:{patient:e.patient}})],1)]),i("q-expansion-item",{attrs:{icon:"fas fa-capsules",label:e.$t("taking_medicine")}},[i("div",{staticStyle:{margin:"10px"}},[i("taking-table",{attrs:{patient:e.patient}})],1)]),i("q-expansion-item",{attrs:{icon:"fas fa-comment-medical",label:e.$t("complaint")}},[i("div",{staticStyle:{margin:"10px"}},[i("complaint-table",{attrs:{patient:e.patient}})],1)]),i("q-expansion-item",{attrs:{icon:"fas fa-burn",label:e.$t("blood_analysis")}},[i("div",{staticStyle:{margin:"10px"}},[i("blood-table",{attrs:{patient:e.patient,check_acceptability:e.check_acceptability}})],1)]),i("q-expansion-item",{attrs:{icon:"fas fa-biohazard",label:e.$t("other_analysis")}},[i("div",{staticStyle:{margin:"10px"}},[i("others-table",{attrs:{patient:e.patient}})],1)])],1)],1)},s=[],a=(i("4de4"),i("cca6"),i("96cf"),i("c973")),o=i.n(a),r=i("cd06"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("q-table",{attrs:{data:e.items,columns:e.headers,dense:"",selection:"single",selected:e.selectedItems,"no-data-label":e.$t("nothingtoshow"),"rows-per-page-label":e.$t("rows_per_page_label")+":","selected-rows-label":e.$helper.getSelectedString,"pagination-label":e.$helper.get_pagination_label},on:{"update:selected":function(t){e.selectedItems=t}},scopedSlots:e._u([{key:"top",fn:function(){return[i("q-btn",{attrs:{icon:"add",color:"primary",dense:""},on:{click:e.btnNewItem}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"edit",color:"primary",disable:!e.IsSelectedItem,dense:""},on:{click:e.editItem}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"remove",color:"primary",disable:!e.IsSelectedItem,dense:""},on:{click:e.deleteItem}})]},proxy:!0}])}),i("q-dialog",{model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("q-card",[i("q-card-section",[i("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),i("q-separator"),i("q-card-section",{staticClass:"q-pt-none"},[i("initial-questions",{attrs:{selected:e.editedItem}})],1),i("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[i("q-btn",{attrs:{color:"blue darken-1",dense:"",label:e.$t("cancel")},on:{click:e.close}}),i("q-btn",{attrs:{color:"blue darken-1",dense:"",label:e.$t("save")},on:{click:e.save}})],1)],1)],1)],1)},c=[],d=(i("7db0"),i("c975"),i("d81d"),i("fb6a"),i("a434"),i("b0c0"),i("07ac"),i("ac1f"),i("1276"),i("72ba")),u={name:"v-intial-question-table",data:function(){return{dialog:!1,headers:[],items:[],editedIndex:-1,selectedItems:[],editedItem:{},defaultItem:{checkbox:[],radio:{},status:!1},question_titles:[],questions:[]}},props:["patient"],computed:{formTitle:function(){return-1===this.editedIndex?this.$t("new_item"):$t("editing")},IsSelectedItem:function(){return this.selectedItems.length}},watch:{dialog:function(e){e||this.close()}},beforeMount:function(){this.initialize()},methods:{toRow:function(e){var t=this,i=e.questions.split(","),n={};if(i.length>1)i.map((function(e){var i=Object.assign({},t.questions.find((function(t){return t.id==e}))),s="v"+i.question_title;"undefined"==typeof n[s]?n[s]=i:(n[s].text+="; "+i.text,n[s].id+=","+i.id)}));else{var s=e.questions,a=Object.assign({},this.questions.find((function(e){return e.id==s}))),o="v"+a.question_title;"undefined"==typeof n[o]?n[o]=a:(n[o].text+="; "+a.text,n[o].id+=","+a.id)}return n["id"]=e.id,n["status"]=e.status,n["date"]=e.date,n},initialize:function(){var e=this;return o()(regeneratorRuntime.mark((function t(){var i,n,s,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.headers.push({label:e.$t("status"),value:"status",field:"status"}),e.headers.push({label:e.$t("date"),value:"date",field:"date"}),t.next=5,e.$axios.get("/question_titles");case 5:for(i=t.sent,n=i.data.length,s=function(t){var s=i.data[n-t-1];e.question_titles.push(s),e.headers.splice(0,0,{label:s.name,field:function(e){return e["v"+s.id]?e["v"+s.id]["text"]:""},style:"white-space: normal !important;"})},a=0;a<n;a++)s(a);return t.next=11,e.$axios.get("/questions");case 11:i=t.sent,i.data.map((function(t){e.questions.push(t)})),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),e.$q.notify({message:t.t0});case 18:o=e.patient.id,e.$axios.get("/initial_questions/"+o).then((function(t){t.data.map((function(t){var i=e.toRow(t);e.items.push(e.toTemplate(i))}))})).catch((function(t){e.$q.notify({message:t})}));case 20:case"end":return t.stop()}}),t,null,[[0,15]])})))()},toTemplate:function(e){var t=Object.assign({},e);return t.status=this.$helper.ToYesNO(e.status),"undefined"!=typeof e.id&&(t.id=e.id),t},toObject:function(e){var t=Object.assign({},e);return t.status=this.$helper.ToBoolFromYesNo(e.status),"undefined"!=typeof e.id&&(t.id=e.id),t},toItem:function(e){var t={id:e.id,status:e.status,date:e.date,checkbox:[],radio:{}};return this.question_titles.map((function(i){var n=e["v"+i.id];"undefined"!=typeof n&&(i.isMany?"number"==typeof n.id?t.checkbox.push(n.id):n.id.split(",").map((function(e){t.checkbox.push(parseInt(e))})):t.radio["r"+i.id]=n.id)})),t},editItem:function(){var e=this.selectedItems[0];this.editedIndex=this.items.indexOf(e);var t=this.toObject(e);this.editedItem=this.toItem(t),this.dialog=!0},DealSavingRespone:function(e){1==e?this.$q.notify({message:this.$t("edited"),color:"blue",icon:"success",actions:[{label:this.$t("close"),color:"white"}]}):this.$q.notify({message:this.$t("unedited"),color:"red",icon:"error",actions:[{label:this.$t("close"),color:"white"}]})},deleteItem:function(){var e=this;return o()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$q.dialog({title:e.$t("confirm"),message:e.$t("would_like_delete"),cancel:!0,persistent:!0}).onOk(o()(regeneratorRuntime.mark((function t(){var i,n,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.selectedItems[0],n=e.items.indexOf(i),i=e.toItem(i),s={id:i.id,patient:e.patient.id,questions:"",status:i.status,date:i.date},i.checkbox.map((function(e){s.questions+=e+","})),Object.values(i.radio).map((function(e){s.questions+=e+","})),s.questions=s.questions.slice(0,-1),t.next=9,e.$helper.deleteInstance(s,"/initial_question_request");case 9:a=t.sent,1==a&&(e.items.splice(n,1),e.selectedItems=[]),1==a?e.$q.notify({message:e.$t("deleted"),color:"blue",icon:"success",actions:[{label:e.$t("close"),color:"white"}]}):e.$q.notify({message:e.$t("notdeleted"),color:"red",icon:"error",actions:[{label:e.$t("close"),color:"white"}]});case 12:case"end":return t.stop()}}),t)})))).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}));case 1:case"end":return t.stop()}}),t)})))()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;return o()(regeneratorRuntime.mark((function t(){var i,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={patient:e.patient.id,questions:"",status:e.editedItem.status,date:e.editedItem.date,id:e.editedItem.id},e.editedItem.checkbox.map((function(e){i.questions+=e+","})),Object.values(e.editedItem.radio).map((function(e){i.questions+=e+","})),i.questions=i.questions.slice(0,-1),t.next=6,e.$helper.saveInstance(i,"/initial_question_request");case 6:n=t.sent,1==n&&(s=e.toRow(i),e.editedIndex>-1?Object.assign(e.items[e.editedIndex],e.toTemplate(s)):e.items.push(e.toTemplate(s)),e.close()),1==n?e.$q.notify({message:e.$t("saved"),color:"blue",icon:"success",actions:[{label:e.$t("close"),color:"white"}]}):e.$q.notify({message:e.$t("unsaved"),color:"red",icon:"error",actions:[{label:e.$t("close"),color:"white"}]});case 9:case"end":return t.stop()}}),t)})))()},btnNewItem:function(){this.defaultItem={checkbox:[],radio:{},date:this.$helper.GetCurrentDate(),status:!1,patient:this.patient.id},this.editedItem=Object.assign({},this.defaultItem),this.dialog=!0}},components:{InitialQuestions:d["a"]},mounted:function(){}},h=u,m=i("2877"),p=i("eaac"),f=i("9c40"),b=i("24e8"),$=i("f09f"),g=i("a370"),I=i("eb85"),v=i("4b7e"),_=i("eebe"),q=i.n(_),w=Object(m["a"])(h,l,c,!1,null,null,null),y=w.exports;q()(w,"components",{QTable:p["a"],QBtn:f["a"],QDialog:b["a"],QCard:$["a"],QCardSection:g["a"],QSeparator:I["a"],QCardActions:v["a"]});var x=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("q-table",{attrs:{data:e.items,columns:e.headers,dense:"",selection:"single",selected:e.selectedItems,"no-data-label":e.$t("nothingtoshow"),"rows-per-page-label":e.$t("rows_per_page_label")+":","selected-rows-label":e.$helper.getSelectedString,"pagination-label":e.$helper.get_pagination_label},on:{"update:selected":function(t){e.selectedItems=t}},scopedSlots:e._u([{key:"top",fn:function(){return[i("q-btn",{attrs:{icon:"add",color:"primary",dense:""},on:{click:e.btnNewItem}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"edit",color:"primary",disable:!e.IsSelectedItem,dense:""},on:{click:e.editItem}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"remove",color:"primary",disable:!e.IsSelectedItem,dense:""},on:{click:e.deleteItem}})]},proxy:!0}])}),i("q-dialog",{model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("q-card",[i("q-card-section",[i("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),i("q-separator"),i("q-card-section",{staticClass:"q-pt-none"},[i("primary-diagnose",{attrs:{primarydiagnose:e.editedItem}})],1),i("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[i("q-btn",{attrs:{color:"blue darken-1",dense:"",label:e.$t("cancel")},on:{click:e.close}}),i("q-btn",{attrs:{color:"blue darken-1",dense:"",label:e.$t("save")},on:{click:e.save}})],1)],1)],1)],1)},k=[],T=i("57ba"),O={data:function(){return{dialog:!1,headers:[],items:[],selectedItems:[],editedIndex:-1,editedItem:{},defaultItem:null,CLINICAL_FORMS:[],LOCALIZATIONS:[],PREVALENCES:[]}},props:["patient"],computed:{formTitle:function(){return-1===this.editedIndex?this.$t("new_item"):this.$t("editing")},IsSelectedItem:function(){return this.selectedItems.length}},watch:{dialog:function(e){e||this.close()}},beforeMount:function(){this.initialize()},methods:{initialize:function(){var e=this;return o()(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.headers=[{label:e.$t("clinical_form_of_tuberculosis"),field:function(e){return e.clinicalform.name}},{label:e.$t("localization"),field:function(e){return e.localization.name}},{label:e.$t("prevalence"),field:function(e){return e.prevalence.name}},{label:e.$t("infiltration"),field:"infiltration"},{label:e.$t("decay"),field:"decay"},{label:e.$t("seeding"),field:"seeding"},{label:e.$t("resorption"),field:"resorption"},{label:e.$t("compaction"),field:"compaction"},{label:e.$t("scarring"),field:"scarring"},{label:e.$t("calcification"),field:"calcification"},{label:e.$t("bk"),field:"bk"},{label:e.$t("status"),field:"status"},{label:e.$t("date"),field:"date"}],t.next=3,e.$axios.get("/clinicalforms").then((function(t){e.CLINICAL_FORMS=t.data}));case 3:return t.next=5,e.$axios.get("/localization").then((function(t){e.LOCALIZATIONS=t.data}));case 5:return t.next=7,e.$axios.get("/prevalence").then((function(t){e.PREVALENCES=t.data}));case 7:i=e.patient.id,e.$axios.get("/primary_request/"+i).then((function(t){t.data.map((function(t){e.items.push(e.toTemplate(t))}))}));case 9:case"end":return t.stop()}}),t)})))()},toTemplate:function(e){var t={clinicalform:this.CLINICAL_FORMS.find((function(t){return t.id==e.clinicalform})),localization:this.LOCALIZATIONS.find((function(t){return t.id==e.localization})),prevalence:this.PREVALENCES.find((function(t){return t.id==e.prevalence})),infiltration:this.$helper.ToYesNO(e.infiltration),decay:this.$helper.ToYesNO(e.decay),seeding:this.$helper.ToYesNO(e.seeding),resorption:this.$helper.ToYesNO(e.resorption),compaction:this.$helper.ToYesNO(e.compaction),scarring:this.$helper.ToYesNO(e.scarring),calcification:this.$helper.ToYesNO(e.calcification),bk:this.$helper.ToPlusMinus(e.bk),status:this.$helper.ToYesNO(e.status),patient:e.patient,date:e.date,id:e.id};return t},toObject:function(e){var t={clinicalform:e.clinicalform.id,localization:e.localization.id,prevalence:e.prevalence.id,infiltration:this.$helper.ToBoolFromYesNo(e.infiltration),decay:this.$helper.ToBoolFromYesNo(e.decay),seeding:this.$helper.ToBoolFromYesNo(e.seeding),resorption:this.$helper.ToBoolFromYesNo(e.resorption),compaction:this.$helper.ToBoolFromYesNo(e.compaction),scarring:this.$helper.ToBoolFromYesNo(e.scarring),calcification:this.$helper.ToBoolFromYesNo(e.calcification),bk:this.$helper.ToBoolFromPlusMinus(e.bk),status:this.$helper.ToBoolFromYesNo(e.status),patient:e.patient,date:e.date,id:e.id};return t},editItem:function(){var e=this.selectedItems[0];this.editedIndex=this.items.indexOf(e),this.editedItem=this.toObject(e),this.dialog=!0},DealSavingRespone:function(e){1==e?this.$q.notify({message:this.$t("edited"),color:"blue",icon:"success",actions:[{label:this.$t("close"),color:"white"}]}):this.$q.notify({message:this.$t("unedited"),color:"red",icon:"error",actions:[{label:this.$t("close"),color:"white"}]})},deleteItem:function(){var e=this;return o()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$q.dialog({title:e.$t("confirm"),message:e.$t("would_like_delete"),cancel:!0,persistent:!0}).onOk(o()(regeneratorRuntime.mark((function t(){var i,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.selectedItems[0],n=e.items.indexOf(i),t.next=4,e.$helper.deleteInstance(i,"/primary_request");case 4:s=t.sent,1==s&&(e.items.splice(n,1),e.selectedItems=[]),1==s?e.$q.notify({message:e.$t("deleted"),color:"blue",icon:"success",actions:[{label:e.$t("close"),color:"white"}]}):e.$q.notify({message:e.$t("notdeleted"),color:"red",icon:"error",actions:[{label:e.$t("close"),color:"white"}]});case 7:case"end":return t.stop()}}),t)})))).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}));case 1:case"end":return t.stop()}}),t)})))()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;return o()(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$helper.saveInstance(e.editedItem,"/primary_request");case 2:i=t.sent,1==i&&(e.editedIndex>-1?Object.assign(e.items[e.editedIndex],e.toTemplate(e.editedItem)):e.items.push(e.toTemplate(e.editedItem)),e.close()),1==i?e.$q.notify({message:e.$t("saved"),color:"blue",icon:"success",actions:[{label:e.$t("close"),color:"white"}]}):e.$q.notify({message:e.$t("unsaved"),color:"red",icon:"error",actions:[{label:e.$t("close"),color:"white"}]});case 5:case"end":return t.stop()}}),t)})))()},btnNewItem:function(){this.dialog=!0,this.defaultItem={clinicalform:this.CLINICAL_FORMS[0].id,localization:this.LOCALIZATIONS[0].id,prevalence:this.PREVALENCES[0].id,infiltration:!1,decay:!1,seeding:!1,resorption:!1,compaction:!1,scarring:!1,calcification:!1,bk:!1,date:this.$helper.GetCurrentDate(),status:!1,patient:this.patient.id},this.editedItem=Object.assign({},this.defaultItem)}},components:{PrimaryDiagnose:T["a"]},mounted:function(){}},C=O,N=Object(m["a"])(C,x,k,!1,null,null,null),S=N.exports;q()(N,"components",{QTable:p["a"],QBtn:f["a"],QDialog:b["a"],QCard:$["a"],QCardSection:g["a"],QSeparator:I["a"],QCardActions:v["a"]});var R=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("q-table",{attrs:{data:e.items,columns:e.headers,dense:"",selection:"single",selected:e.selectedItems,"no-data-label":e.$t("nothingtoshow"),"rows-per-page-label":e.$t("rows_per_page_label")+":","selected-rows-label":e.$helper.getSelectedString,"pagination-label":e.$helper.get_pagination_label},on:{"update:selected":function(t){e.selectedItems=t}},scopedSlots:e._u([{key:"top",fn:function(){return[i("q-btn",{attrs:{icon:"add",color:"primary",dense:""},on:{click:e.btnNewItem}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"edit",color:"primary",disable:!e.IsSelectedItem,dense:""},on:{click:e.editItem}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"remove",color:"primary",disable:!e.IsSelectedItem,dense:""},on:{click:e.deleteItem}})]},proxy:!0}])}),i("q-dialog",{model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("q-card",[i("q-card-section",[i("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),i("q-separator"),i("q-card-section",{staticClass:"q-pt-none"},[i("taking-medicine",{attrs:{takingmedicine:e.editedItem}})],1),i("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[i("q-btn",{attrs:{color:"blue darken-1",dense:"",label:e.$t("cancel")},on:{click:e.close}}),i("q-btn",{attrs:{color:"blue darken-1",dense:"",label:e.$t("save")},on:{click:e.save}})],1)],1)],1)],1)},Y=[],Q=i("5a7b"),j={name:"TakingTable",data:function(){return{dialog:!1,headers:[],items:[],editedIndex:-1,editedItem:{},defaultItem:null,selectedItems:[]}},props:["patient"],computed:{formTitle:function(){return-1===this.editedIndex?this.$t("new_item"):this.$t("editing")},IsSelectedItem:function(){return this.selectedItems.length}},watch:{dialog:function(e){e||this.close()}},beforeMount:function(){this.initialize()},methods:{initialize:function(){var e=this;this.headers=[{label:this.$t("from_date"),field:"fromdate",sortable:!1},{label:this.$t("streptomycin"),field:"streptomycin"},{label:this.$t("rifampicin"),field:"rifampicin"},{label:this.$t("isoniazid"),field:"isoniazid"},{label:this.$t("pyrazinamide"),field:"pyrazinamide"},{label:this.$t("ethambutol"),field:"ethambutol"},{label:this.$t("status"),field:"status"},{label:this.$t("date"),field:"date"}];var t=this.patient.id;this.$axios.get("/taking_request/"+t).then((function(t){t.data.map((function(t){e.items.push(e.toTemplate(t))}))}))},toTemplate:function(e){var t={fromdate:e.fromdate,streptomycin:this.$helper.ToYesNO(e.streptomycin),rifampicin:this.$helper.ToYesNO(e.rifampicin),isoniazid:this.$helper.ToYesNO(e.isoniazid),pyrazinamide:this.$helper.ToYesNO(e.pyrazinamide),ethambutol:this.$helper.ToYesNO(e.ethambutol),status:this.$helper.ToYesNO(e.status),patient:e.patient,date:e.date};return"undefined"!=typeof e.id&&(t.id=e.id),t},toObject:function(e){var t={fromdate:e.fromdate,streptomycin:this.$helper.ToBoolFromYesNo(e.streptomycin),rifampicin:this.$helper.ToBoolFromYesNo(e.rifampicin),isoniazid:this.$helper.ToBoolFromYesNo(e.isoniazid),pyrazinamide:this.$helper.ToBoolFromYesNo(e.pyrazinamide),ethambutol:this.$helper.ToBoolFromYesNo(e.ethambutol),status:this.$helper.ToBoolFromYesNo(e.status),patient:e.patient,date:e.date};return"undefined"!=typeof e.id&&(t.id=e.id),t},editItem:function(){var e=this.selectedItems[0];this.editedIndex=this.items.indexOf(e),this.editedItem=this.toObject(e),this.dialog=!0},DealSavingRespone:function(e){1==e?this.$q.notify({message:this.$t("edited"),color:"blue",icon:"success",actions:[{label:this.$t("close"),color:"white"}]}):this.$q.notify({message:this.$t("unedited"),color:"red",icon:"error",actions:[{label:this.$t("close"),color:"white"}]})},deleteItem:function(){var e=this;return o()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$q.dialog({title:e.$t("confirm"),message:e.$t("would_like_delete"),cancel:!0,persistent:!0}).onOk(o()(regeneratorRuntime.mark((function t(){var i,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.selectedItems[0],n=e.items.indexOf(i),t.next=4,e.$helper.deleteInstance(i,"/taking_request");case 4:s=t.sent,1==s&&(e.items.splice(n,1),e.selectedItems=[]),1==s?e.$q.notify({message:e.$t("deleted"),color:"blue",icon:"success",actions:[{label:e.$t("close"),color:"white"}]}):e.$q.notify({message:e.$t("notdeleted"),color:"red",icon:"error",actions:[{label:e.$t("close"),color:"white"}]});case 7:case"end":return t.stop()}}),t)})))).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}));case 1:case"end":return t.stop()}}),t)})))()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;return o()(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$helper.saveInstance(e.editedItem,"/taking_request");case 2:i=t.sent,1==i&&(e.editedIndex>-1?Object.assign(e.items[e.editedIndex],e.toTemplate(e.editedItem)):e.items.push(e.toTemplate(e.editedItem)),e.close()),1==i?e.$q.notify({message:e.$t("saved"),color:"blue",icon:"success",actions:[{label:e.$t("close"),color:"white"}]}):e.$q.notify({message:e.$t("unsaved"),color:"red",icon:"error",actions:[{label:e.$t("close"),color:"white"}]});case 5:case"end":return t.stop()}}),t)})))()},btnNewItem:function(){this.dialog=!0,this.defaultItem={fromdate:this.$helper.GetCurrentDate(),streptomycin:!1,rifampicin:!1,isoniazid:!1,pyrazinamide:!1,ethambutol:!1,date:this.$helper.GetCurrentDate(),status:!1,patient:this.patient.id},this.editedItem=Object.assign({},this.defaultItem)}},components:{TakingMedicine:Q["a"]},mounted:function(){}},z=j,B=Object(m["a"])(z,R,Y,!1,null,null,null),F=B.exports;q()(B,"components",{QTable:p["a"],QBtn:f["a"],QDialog:b["a"],QCard:$["a"],QCardSection:g["a"],QSeparator:I["a"],QCardActions:v["a"]});var D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("q-table",{attrs:{data:e.items,columns:e.headers,dense:"",selection:"single",selected:e.selectedItems,"no-data-label":e.$t("nothingtoshow"),"rows-per-page-label":e.$t("rows_per_page_label")+":","selected-rows-label":e.$helper.getSelectedString,"pagination-label":e.$helper.get_pagination_label},on:{"update:selected":function(t){e.selectedItems=t}},scopedSlots:e._u([{key:"top",fn:function(){return[i("q-btn",{attrs:{icon:"add",color:"primary",dense:""},on:{click:e.btnNewItem}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"edit",color:"primary",disable:!e.IsSelectedItem,dense:""},on:{click:e.editItem}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"remove",color:"primary",disable:!e.IsSelectedItem,dense:""},on:{click:e.deleteItem}})]},proxy:!0}])}),i("q-dialog",{model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("q-card",[i("q-card-section",[i("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),i("q-separator"),i("q-card-section",{staticClass:"q-pt-none"},[i("Complaint",{attrs:{complaint:e.editedItem}})],1),i("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[i("q-btn",{attrs:{color:"blue darken-1",dense:"",label:e.$t("cancel")},on:{click:e.close}}),i("q-btn",{attrs:{color:"blue darken-1",dense:"",label:e.$t("save")},on:{click:e.save}})],1)],1)],1)],1)},A=[],E=i("071c"),L={name:"ComplaintTable",data:function(){return{dialog:!1,headers:[],items:[],editedIndex:-1,editedItem:{},defaultItem:null,selectedItems:[],CHARACTER_STOOLS:[]}},props:["patient"],computed:{formTitle:function(){return-1===this.editedIndex?this.$t("new_item"):this.$t("editing")},IsSelectedItem:function(){return this.selectedItems.length}},watch:{dialog:function(e){e||this.close()}},beforeMount:function(){this.initialize()},methods:{initialize:function(){var e=this;return o()(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.headers=[{label:e.$t("diarrhea"),field:"diarrhea"},{label:e.$t("normal_stool"),field:"normal_stool"},{label:e.$t("constipation"),field:"constipation"},{label:e.$t("flatulence"),field:"flatulence"},{label:e.$t("stomachache"),field:"stomachache"},{label:e.$t("from"),field:"from_stool_frequency"},{label:e.$t("to"),field:"to_stool_frequency"},{label:e.$t("character"),field:function(e){return e.character.name}},{label:e.$t("status"),field:"status"},{label:e.$t("date"),field:"date"}],t.next=3,e.$axios.get("/characterofstool").then((function(t){e.CHARACTER_STOOLS=t.data}));case 3:return i=e.patient.id,t.next=6,e.$axios.get("/complaint_request/"+i).then((function(t){t.data.map((function(t){e.items.push(e.toTemplate(t))}))}));case 6:case"end":return t.stop()}}),t)})))()},toTemplate:function(e){var t={diarrhea:this.$helper.ToYesNO(e.diarrhea),normal_stool:this.$helper.ToYesNO(e.normal_stool),constipation:this.$helper.ToYesNO(e.constipation),flatulence:this.$helper.ToYesNO(e.flatulence),stomachache:this.$helper.ToYesNO(e.stomachache),from_stool_frequency:e.from_stool_frequency,to_stool_frequency:e.to_stool_frequency,character:this.CHARACTER_STOOLS.find((function(t){return t.id==e.character})),status:this.$helper.ToYesNO(e.status),patient:e.patient,date:e.date};return"undefined"!=typeof e.id&&(t.id=e.id),t},toObject:function(e){var t={diarrhea:this.$helper.ToBoolFromYesNo(e.diarrhea),normal_stool:this.$helper.ToBoolFromYesNo(e.normal_stool),constipation:this.$helper.ToBoolFromYesNo(e.constipation),flatulence:this.$helper.ToBoolFromYesNo(e.flatulence),stomachache:this.$helper.ToBoolFromYesNo(e.stomachache),from_stool_frequency:e.from_stool_frequency,to_stool_frequency:e.to_stool_frequency,character:e.character.id,status:this.$helper.ToBoolFromYesNo(e.status),patient:e.patient,date:e.date};return"undefined"!=typeof e.id&&(t.id=e.id),t},editItem:function(){var e=this.selectedItems[0];this.editedIndex=this.items.indexOf(e),this.editedItem=this.toObject(e),this.dialog=!0},DealSavingRespone:function(e){1==e?this.$q.notify({message:this.$t("edited"),color:"blue",icon:"success",actions:[{label:this.$t("close"),color:"white"}]}):this.$q.notify({message:this.$t("unedited"),color:"red",icon:"error",actions:[{label:this.$t("close"),color:"white"}]})},deleteItem:function(){var e=this;return o()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$q.dialog({title:e.$t("confirm"),message:e.$t("would_like_delete"),cancel:!0,persistent:!0}).onOk(o()(regeneratorRuntime.mark((function t(){var i,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.selectedItems[0],n=e.items.indexOf(i),t.next=4,e.$helper.deleteInstance(i,"/complaint_request");case 4:s=t.sent,1==s&&(e.items.splice(n,1),e.selectedItems=[]),1==s?e.$q.notify({message:e.$t("deleted"),color:"blue",icon:"success",actions:[{label:e.$t("close"),color:"white"}]}):e.$q.notify({message:e.$t("notdeleted"),color:"red",icon:"error",actions:[{label:e.$t("close"),color:"white"}]});case 7:case"end":return t.stop()}}),t)})))).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}));case 1:case"end":return t.stop()}}),t)})))()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;return o()(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$helper.saveInstance(e.editedItem,"/complaint_request");case 2:i=t.sent,1==i&&(e.editedIndex>-1?Object.assign(e.items[e.editedIndex],e.toTemplate(e.editedItem)):e.items.push(e.toTemplate(e.editedItem)),e.close()),e.DealSavingRespone(i);case 5:case"end":return t.stop()}}),t)})))()},btnNewItem:function(){this.defaultItem={diarrhea:!1,normal_stool:!1,constipation:!1,flatulence:!1,stomachache:!1,from_stool_frequency:0,to_stool_frequency:0,character:this.CHARACTER_STOOLS[0].id,date:this.$helper.GetCurrentDate(),status:!1,patient:this.patient.id},this.editedItem=Object.assign({},this.defaultItem),this.dialog=!0}},components:{Complaint:E["a"]},mounted:function(){}},M=L,P=Object(m["a"])(M,D,A,!1,null,null,null),G=P.exports;q()(P,"components",{QTable:p["a"],QBtn:f["a"],QDialog:b["a"],QCard:$["a"],QCardSection:g["a"],QSeparator:I["a"],QCardActions:v["a"]});var H=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("q-table",{attrs:{data:e.items,columns:e.headers,dense:"",selection:"single",selected:e.selectedItems,"no-data-label":e.$t("nothingtoshow"),"rows-per-page-label":e.$t("rows_per_page_label")+":","selected-rows-label":e.$helper.getSelectedString,"pagination-label":e.$helper.get_pagination_label},on:{"update:selected":function(t){e.selectedItems=t}},scopedSlots:e._u([{key:"top",fn:function(){return[i("q-btn",{attrs:{icon:"add",color:"primary",dense:""},on:{click:e.btnNewItem}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"edit",color:"primary",disable:!e.IsSelectedItem,dense:""},on:{click:e.editItem}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"remove",color:"primary",disable:!e.IsSelectedItem,dense:""},on:{click:e.deleteItem}})]},proxy:!0}])}),i("q-dialog",{model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("q-card",[i("q-card-section",[i("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),i("q-separator"),i("q-card-section",{staticClass:"q-pt-none"},[i("blood-analysis",{attrs:{bloodanalysis:e.editedItem,check_acceptability:e.check_acceptability}})],1),i("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[i("q-btn",{attrs:{color:"blue darken-1",dense:"",label:e.$t("cancel")},on:{click:e.close}}),i("q-btn",{attrs:{color:"blue darken-1",dense:"",label:e.$t("save")},on:{click:e.save}})],1)],1)],1)],1)},V=[],Z=i("a26f"),J={name:"BloodTable",data:function(){return{dialog:!1,headers:[],items:[],editedIndex:-1,editedItem:{},defaultItem:null,selectedItems:[]}},props:["patient","check_acceptability"],computed:{formTitle:function(){return-1===this.editedIndex?this.$t("new_item"):this.$t("editing")},IsSelectedItem:function(){return this.selectedItems.length}},watch:{dialog:function(e){e||this.close()}},beforeMount:function(){this.initialize()},methods:{initialize:function(){var e=this;this.headers=[{label:this.$t("er"),field:"er"},{label:this.$t("leyk"),field:"leyk"},{label:this.$t("hb"),field:"hb"},{label:this.$t("color"),field:"color"},{label:this.$t("pya"),field:"pya"},{label:this.$t("sya"),field:"sya"},{label:this.$t("eoz"),field:"eoz"},{label:this.$t("lf"),field:"lf"},{label:this.$t("mon"),field:"mon"},{label:this.$t("coe"),field:"coe"},{label:this.$t("act"),field:"act"},{label:this.$t("alt"),field:"alt"},{label:this.$t("status"),field:"status"},{label:this.$t("date"),field:"date"}];var t=this.patient.id;this.$axios.get("/blood_request/"+t).then((function(t){t.data.map((function(t){e.items.push(e.toTemplate(t))}))}))},toTemplate:function(e){var t={er:e.er,leyk:e.leyk,hb:e.hb,color:e.color,pok:e.pok,pya:e.pya,sya:e.sya,eoz:e.eoz,lf:e.lf,mon:e.mon,coe:e.coe,act:e.act,alt:e.alt,status:this.$helper.ToYesNO(e.status),patient:e.patient,date:e.date};return"undefined"!=typeof e.id&&(t.id=e.id),t},toObject:function(e){var t={er:e.er,leyk:e.leyk,hb:e.hb,color:e.color,pok:e.pok,pya:e.pya,sya:e.sya,eoz:e.eoz,lf:e.lf,mon:e.mon,coe:e.coe,act:e.act,alt:e.alt,status:this.$helper.ToBoolFromYesNo(e.status),patient:e.patient,date:e.date};return"undefined"!=typeof e.id&&(t.id=e.id),t},editItem:function(){var e=this.selectedItems[0];this.editedIndex=this.items.indexOf(e),this.editedItem=this.toObject(e),this.dialog=!0},deleteItem:function(e){var t=this;return o()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$q.dialog({title:t.$t("confirm"),message:t.$t("would_like_delete"),cancel:!0,persistent:!0}).onOk(o()(regeneratorRuntime.mark((function e(){var i,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.selectedItems[0],n=t.items.indexOf(i),e.next=4,t.$helper.deleteInstance(i,"/blood_request");case 4:s=e.sent,1==s&&(t.items.splice(n,1),t.selectedItems=[]),1==s?t.$q.notify({message:t.$t("deleted"),color:"blue",icon:"success",actions:[{label:t.$t("close"),color:"white"}]}):t.$q.notify({message:t.$t("notdeleted"),color:"red",icon:"error",actions:[{label:t.$t("close"),color:"white"}]});case 7:case"end":return e.stop()}}),e)})))).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}));case 1:case"end":return e.stop()}}),e)})))()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},DealSavingRespone:function(e){1==e?this.$q.notify({message:this.$t("edited"),color:"blue",icon:"success",actions:[{label:this.$t("close"),color:"white"}]}):this.$q.notify({message:this.$t("unedited"),color:"red",icon:"error",actions:[{label:this.$t("close"),color:"white"}]})},save:function(){var e=this;return o()(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$helper.saveInstance(e.editedItem,"/blood_request");case 2:i=t.sent,1==i&&(e.editedIndex>-1?Object.assign(e.items[e.editedIndex],e.toTemplate(e.editedItem)):e.items.push(e.toTemplate(e.editedItem)),e.close()),e.DealSavingRespone(i);case 5:case"end":return t.stop()}}),t)})))()},btnNewItem:function(){this.defaultItem={er:0,leyk:0,hb:0,color:0,pok:0,pya:0,sya:0,eoz:0,lf:0,mon:0,coe:0,date:this.$helper.GetCurrentDate(),status:!1,patient:this.patient.id},this.editedItem=Object.assign({},this.defaultItem),this.dialog=!0}},components:{BloodAnalysis:Z["a"]},mounted:function(){}},K=J,U=Object(m["a"])(K,H,V,!1,null,null,null),W=U.exports;q()(U,"components",{QTable:p["a"],QBtn:f["a"],QDialog:b["a"],QCard:$["a"],QCardSection:g["a"],QSeparator:I["a"],QCardActions:v["a"]});var X=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("q-table",{attrs:{data:e.items,columns:e.headers,dense:"",selection:"single",selected:e.selectedItems,"no-data-label":e.$t("nothingtoshow"),"rows-per-page-label":e.$t("rows_per_page_label")+":","selected-rows-label":e.$helper.getSelectedString,"pagination-label":e.$helper.get_pagination_label},on:{"update:selected":function(t){e.selectedItems=t}},scopedSlots:e._u([{key:"top",fn:function(){return[i("q-btn",{attrs:{icon:"add",color:"primary",dense:""},on:{click:e.btnNewItem}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"edit",color:"primary",disable:!e.IsSelectedItem,dense:""},on:{click:e.editItem}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"remove",color:"primary",disable:!e.IsSelectedItem,dense:""},on:{click:e.deleteItem}})]},proxy:!0}])}),i("q-dialog",{model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("q-card",[i("q-card-section",[i("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),i("q-separator"),i("q-card-section",{staticClass:"q-pt-none"},[i("others",{attrs:{other:e.editedItem}})],1),i("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[i("q-btn",{attrs:{color:"blue darken-1",dense:"",label:e.$t("cancel")},on:{click:e.close}}),i("q-btn",{attrs:{color:"blue darken-1",dense:"",label:e.$t("save")},on:{click:e.save}})],1)],1)],1)],1)},ee=[],te=i("638a"),ie={name:"OtherTable",data:function(){return{dialog:!1,selectedItems:[],headers:[],items:[],editedIndex:-1,editedItem:{},defaultItem:null}},props:["patient"],computed:{formTitle:function(){return-1===this.editedIndex?this.$t("new_item"):this.$t("editing")},IsSelectedItem:function(){return this.selectedItems.length}},watch:{dialog:function(e){e||this.close()}},beforeMount:function(){this.initialize()},methods:{initialize:function(){var e=this;this.headers=[{label:this.$t("tolerance"),field:"tuberculosis_tolerance"},{label:this.$t("related_disease"),field:"related_disease"},{label:this.$t("nausea"),field:"nausea"},{label:this.$t("vomiting"),field:"vomiting"},{label:this.$t("headache"),field:"headache"},{label:this.$t("sweating"),field:"sweating"},{label:this.$t("weakness"),field:"weakness"},{label:this.$t("allergodermatosis"),field:"allergodermatosis"},{label:this.$t("from"),field:"from_weight_loss"},{label:this.$t("to"),field:"to_weight_loss"},{label:this.$t("coproscopy"),field:"coproscopy"},{label:this.$t("status"),field:"status"},{label:this.$t("date"),field:"date"}];var t=this.patient.id;this.$axios.get("/other_request/"+t).then((function(t){t.data.map((function(t){e.items.push(e.toTemplate(t))}))}))},toTemplate:function(e){var t={tuberculosis_tolerance:this.$helper.ToYesNO(e.tuberculosis_tolerance),related_disease:this.$helper.ToYesNO(e.related_disease),nausea:this.$helper.ToYesNO(e.nausea),vomiting:this.$helper.ToYesNO(e.vomiting),headache:this.$helper.ToYesNO(e.headache),sweating:this.$helper.ToYesNO(e.sweating),weakness:this.$helper.ToYesNO(e.weakness),allergodermatosis:this.$helper.ToYesNO(e.allergodermatosis),coproscopy:this.$helper.ToYesNO(e.coproscopy),from_weight_loss:e.from_weight_loss,to_weight_loss:e.to_weight_loss,status:this.$helper.ToYesNO(e.status),patient:e.patient,date:e.date};return"undefined"!=typeof e.id&&(t.id=e.id),t},toObject:function(e){var t={tuberculosis_tolerance:this.$helper.ToBoolFromYesNo(e.tuberculosis_tolerance),related_disease:this.$helper.ToBoolFromYesNo(e.related_disease),nausea:this.$helper.ToBoolFromYesNo(e.nausea),vomiting:this.$helper.ToBoolFromYesNo(e.vomiting),headache:this.$helper.ToBoolFromYesNo(e.headache),sweating:this.$helper.ToBoolFromYesNo(e.sweating),weakness:this.$helper.ToBoolFromYesNo(e.weakness),allergodermatosis:this.$helper.ToBoolFromYesNo(e.allergodermatosis),coproscopy:this.$helper.ToBoolFromYesNo(e.coproscopy),from_weight_loss:e.from_weight_loss,to_weight_loss:e.to_weight_loss,status:this.$helper.ToBoolFromYesNo(e.status),patient:e.patient,date:e.date};return"undefined"!=typeof e.id&&(t.id=e.id),t},editItem:function(){var e=this.selectedItems[0];this.editedIndex=this.items.indexOf(e),this.editedItem=this.toObject(e),this.dialog=!0},DealSavingRespone:function(e){1==e?this.$q.notify({message:this.$t("edited"),color:"blue",icon:"success",actions:[{label:this.$t("close"),color:"white"}]}):this.$q.notify({message:this.$t("unedited"),color:"red",icon:"error",actions:[{label:this.$t("close"),color:"white"}]})},deleteItem:function(e){var t=this;return o()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$q.dialog({title:t.$t("confirm"),message:t.$t("would_like_delete"),cancel:!0,persistent:!0}).onOk(o()(regeneratorRuntime.mark((function e(){var i,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.selectedItems[0],n=t.items.indexOf(i),e.next=4,t.$helper.deleteInstance(i,"/other_request");case 4:s=e.sent,1==s&&(t.items.splice(n,1),t.selectedItems=[]),1==s?t.$q.notify({message:t.$t("deleted"),color:"blue",icon:"success",actions:[{label:t.$t("close"),color:"white"}]}):t.$q.notify({message:t.$t("notdeleted"),color:"red",icon:"error",actions:[{label:t.$t("close"),color:"white"}]});case 7:case"end":return e.stop()}}),e)})))).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}));case 1:case"end":return e.stop()}}),e)})))()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;return o()(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$helper.saveInstance(e.editedItem,"/other_request");case 2:i=t.sent,1==i&&(e.editedIndex>-1?Object.assign(e.items[e.editedIndex],e.toTemplate(e.editedItem)):e.items.push(e.toTemplate(e.editedItem)),e.close()),e.DealSavingRespone(i);case 5:case"end":return t.stop()}}),t)})))()},btnNewItem:function(){this.defaultItem={tuberculosis_tolerance:!1,related_disease:!1,nausea:!1,vomiting:!1,headache:!1,sweating:!1,weakness:!1,allergodermatosis:!1,coproscopy:!1,from_weight_loss:0,to_weight_loss:0,date:this.$helper.GetCurrentDate(),status:!1,patient:this.patient.id},this.editedItem=Object.assign({},this.defaultItem),this.dialog=!0}},components:{Others:te["a"]},mounted:function(){}},ne=ie,se=Object(m["a"])(ne,X,ee,!1,null,null,null),ae=se.exports;q()(se,"components",{QTable:p["a"],QBtn:f["a"],QDialog:b["a"],QCard:$["a"],QCardSection:g["a"],QSeparator:I["a"],QCardActions:v["a"]});var oe={data:function(){return{title:"",patient:{},ranges:[]}},methods:{initialize:function(){var e=this;this.$axios.get("/getaccetableintervals").then((function(t){e.ranges=t.data})),this.patient=Object.assign({},this.$store.state.patient.patient),null!=this.patient.id&&"undefined"!=typeof this.patient.id&&(this.title=this.patient.last_name+" "+this.patient.first_name[0]+"."+this.patient.middle_name[0]+".")},save:function(){var e=this;return o()(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.refPatient.hasError().then((function(e){return e}));case 2:if(i=t.sent,i){t.next=7;break}return e.step=1,e.showErrorNotify(),t.abrupt("return");case 7:return t.next=9,e.$helper.saveInstance(e.patient,"/patient_request");case 9:if(n=t.sent,1==n){t.next=13;break}return e.DealSavingRespone(n),t.abrupt("return");case 13:e.$q.notify({message:e.$t("saved"),color:"blue",icon:"success",actions:[{label:e.$t("close"),color:"white"}]});case 14:case"end":return t.stop()}}),t)})))()},showErrorNotify:function(){this.$q.notify({message:this.$t("please_correct_errors"),color:"red",icon:"error",actions:[{label:this.$t("close"),color:"white"}]})},DealSavingRespone:function(e){this.$q.notify({message:this.$t("unsaved"),color:"red",icon:"error",actions:[{label:this.$t("close"),color:"white"}]})},Delete:function(){var e=this;return o()(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=e.patient.id,e.$q.dialog({title:e.$t("confirm"),message:e.$t("would_like_delete"),cancel:!0,persistent:!0}).onOk(o()(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$helper.deleteInstance({id:i},"/patient_request");case 2:n=t.sent,1==n?(e.$q.notify({message:e.$t("deleted"),color:"blue",icon:"success",actions:[{label:e.$t("close"),color:"white"}]}),e.data=e.data.filter((function(e){return e.id!=i}))):e.$q.notify({message:e.$t("notdeleted"),color:"red",icon:"error",actions:[{label:e.$t("close"),color:"white"}]});case 4:case"end":return t.stop()}}),t)})))).onOk((function(){e.$router.go(-1)})).onCancel((function(){})).onDismiss((function(){}));case 2:case"end":return t.stop()}}),t)})))()},check_acceptability:function(e,t){return this.$helper.check_acceptability(e,t,this.ranges)}},beforeMount:function(){this.initialize()},mounted:function(){},meta:function(){return{title:this.title}},components:{PatientComponent:r["a"],InitQuestionsTable:y,PrimaryTable:S,TakingTable:F,ComplaintTable:G,BloodTable:W,OthersTable:ae}},re=oe,le=i("1c1c"),ce=i("3b73"),de=Object(m["a"])(re,n,s,!1,null,null,null);t["default"]=de.exports;q()(de,"components",{QList:le["a"],QExpansionItem:ce["a"],QBtn:f["a"]})}}]);