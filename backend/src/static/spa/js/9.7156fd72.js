(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"1fa5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("q-table",{attrs:{grid:"",title:t.$t("patients"),data:t.data,columns:t.columns,"row-key":"name",filter:t.filter,"grid-header":"","no-data-label":t.$t("nothingtoshow"),"rows-per-page-label":t.$t("rows_per_page_label")+":","selected-rows-label":t.$helper.getSelectedString,"pagination-label":t.$helper.get_pagination_label},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("div",{staticClass:"row"},[a("q-btn",{staticStyle:{"margin-right":"30px","margin-top":"5px"},attrs:{round:"",icon:"update"},on:{click:t.updateDate}}),a("q-input",{attrs:{dense:"",debounce:"300",placeholder:t.$t("search")},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)]},proxy:!0},{key:"item",fn:function(e){return[a("div",{staticClass:"q-pa-xs col-xs-5 col-sm-5 col-md-3"},[a("q-card",[a("q-card-section",[a("div",{staticClass:"row items-center no-wrap"},[a("div",{staticClass:"col"},[a("strong",[t._v(t._s(e.row.last_name+" "+e.row.first_name[0]+" "+e.row.middle_name[0]))])]),a("div",{staticClass:"col-auto"},[a("q-btn",{attrs:{color:"grey-7",round:"",flat:"",icon:"more_vert"}},[a("q-menu",{attrs:{cover:"","auto-close":""}},[a("q-list",[a("q-item",{attrs:{clickable:""},on:{click:function(a){return t.goDetail(e.row)}}},[a("q-item-section",[t._v(t._s(t.$t("detail")))])],1),a("q-item",{attrs:{clickable:""},on:{click:function(a){return t.removePatient(e.row.id)}}},[a("q-item-section",[t._v(t._s(t.$t("remove")))])],1)],1)],1)],1)],1)])]),a("q-separator"),a("q-card-section",{staticClass:"flex flex-center"},[a("div",{staticClass:"column"},[a("div",{staticClass:"col"},[t._v(t._s(t.$t("number")))]),a("div",{staticClass:"col"},[t._v(t._s(e.row.number))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[t._v(t._s(t.$t("birthday")))]),a("div",{staticClass:"col"},[t._v(t._s(e.row.birthday))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[t._v(t._s(t.$t("from_date")))]),a("div",{staticClass:"col"},[t._v(t._s(e.row.fromdate))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[t._v(t._s(t.$t("gender")))]),a("div",{staticClass:"col"},[t._v(t._s(e.row.gender?t.$t("male"):t.$t("female")))])])])],1)],1)]}}])})],1)},n=[],r=(a("4de4"),a("96cf"),a("c973")),s=a.n(r),o={name:"PatientList",data:function(){return{filter:"",columns:[{name:"fio",required:!0,label:this.$t("fio"),align:"left",field:"name",sortable:!0},{name:"number",align:"center",label:this.$t("number"),field:"number",sortable:!0},{name:"birthday",align:"center",label:this.$t("birthday"),field:"birthday",sortable:!0},{name:"fromdate",align:"right",label:this.$t("from_date"),field:"fromdate",sortable:!0},{name:"gender",align:"right",label:this.$t("gender"),field:"gender",sortable:!0}],data:[]}},methods:{initialize:function(){this.updateDate()},removePatient:function(t){var e=this;return s()(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.$q.dialog({title:e.$t("confirm"),message:e.$t("would_like_delete"),cancel:!0,persistent:!0}).onOk(s()(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$helper.deleteInstance({id:t},"/patient_request");case 2:i=a.sent,1==i?(e.$q.notify({message:e.$t("deleted"),color:"blue",icon:"success",actions:[{label:e.$t("close"),color:"white"}]}),e.data=e.data.filter((function(e){return e.id!=t}))):e.$q.notify({message:e.$t("notdeleted"),color:"red",icon:"error",actions:[{label:e.$t("close"),color:"white"}]});case 4:case"end":return a.stop()}}),a)})))).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}));case 1:case"end":return a.stop()}}),a)})))()},goDetail:function(t){this.$store.dispatch("patient/setCurrentPatient",{patient:t}),this.$router.push("detail")},updateDate:function(){var t=this;this.$axios.get("/patient_request").then((function(e){t.data=e.data}))}},beforeMount:function(){this.initialize()}},l=o,c=a("2877"),d=a("eaac"),u=a("9c40"),f=a("27f9"),m=a("0016"),p=a("f09f"),b=a("a370"),h=a("4e73"),v=a("1c1c"),_=a("66e5"),g=a("4074"),w=a("eb85"),$=a("eebe"),q=a.n($),C=Object(c["a"])(l,i,n,!1,null,null,null);e["default"]=C.exports;q()(C,"components",{QTable:d["a"],QBtn:u["a"],QInput:f["a"],QIcon:m["a"],QCard:p["a"],QCardSection:b["a"],QMenu:h["a"],QList:v["a"],QItem:_["a"],QItemSection:g["a"],QSeparator:w["a"]})}}]);